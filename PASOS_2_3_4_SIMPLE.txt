# PASOS 2-4: GUIA RAPIDA Y SENCILLA

## TU CHECKLIST DE HOJA DE RUTA

Aqui estan los 3 pasos finales. Solo necesitas seguir las instrucciones.

---

## PASO 2: DESPLEGAR FRONTEND EN VERCEL ⏱️ 5 minutos

**LO QUE HACES:**
1. Abre https://vercel.com/new
2. Click "Import Git Repository"
3. Busca "manuelremon/SPMSystem2.0"
4. Click para seleccionar el repo

**Vercel autodetecta configuracion, pero verifica:**
- Framework: Vite ✓
- Root Directory: ./frontend ✓
- Build Command: npm run build ✓
- Output Directory: dist ✓

**Agrega variable de entorno:**
- Click "Environment Variables"
- Nombre: VITE_API_URL
- Valor: https://spmsystem2-0.onrender.com/api
- Click "Add"

**Deploy:**
- Click "Deploy"
- Espera 2-3 minutos
- COPIA LA URL resultante (ej: https://spmv2-0-abc123.vercel.app)
- ESTO ES IMPORTANTE para PASO 3

**Verifica:**
- Abre tu URL de Vercel en navegador
- Debe mostrar la pagina de login de SPM
- (El login aun no funcionara completamente, normal)

---

## PASO 3: ACTUALIZAR CORS EN RENDER ⏱️ 1 minuto

**LO QUE HACES:**
1. Abre https://dashboard.render.com
2. Click en servicio "spmsystem2-0"
3. Click "Settings"
4. Click "Environment"

**Edita estas 2 variables** (usa tu URL de Vercel del PASO 2):

VARIABLE 1:
- Nombre: FRONTEND_URL
- Valor nuevo: https://tu-url-vercel.vercel.app

VARIABLE 2:
- Nombre: CORS_ORIGINS
- Valor nuevo: https://tu-url-vercel.vercel.app,https://spmsystem2-0.onrender.com

Ejemplo correcto:
```
FRONTEND_URL=https://spmv2-0-abc123.vercel.app
CORS_ORIGINS=https://spmv2-0-abc123.vercel.app,https://spmsystem2-0.onrender.com
```

**Guardar y redeploy:**
- Click "Save changes"
- Click "Manual Deploy"
- Click "Latest Commit"
- Espera 2-3 minutos

---

## PASO 4: TESTING Y VERIFICACION ⏱️ 2 minutos

### TEST 1: Backend responde

Ejecuta en PowerShell:
```powershell
curl.exe https://spmsystem2-0.onrender.com/
```

Debe retornar:
```json
{
  "message": "SPM API v2.0",
  "endpoints": {...},
  "status": "API activo"
}
```

✅ Si ves JSON = Paso 1

### TEST 2: Frontend funciona

1. Abre en navegador: https://tu-url-vercel.vercel.app
2. Debes ver login
3. Login con: admin / a1
4. Si ves dashboard con materiales = Paso 2

✅ Si carga todo = Paso 2 exitoso

### TEST 3: Tests automaticos (opcional)

```powershell
cd "C:\Users\MANUE\SPMv2.0"
python test_production.py
```

✅ Si todos los tests salen VERDE = Todo correcto

---

## SI ALGO FALLA

### Backend retorna 502
```
Ir a: Render Dashboard → spmsystem2-0 → Logs
Buscar que error aparece
Generalmente: variable mal escrita
Revisa: FRONTEND_URL y CORS_ORIGINS exactamente
```

### Frontend no carga
```
Abrir navegador DevTools (F12)
Click Console
Buscar errores CORS
Revisa: CORS_ORIGINS en Render contiene tu URL de Vercel
```

### Login no funciona
```
Render Dashboard → spmsystem2-0 → Logs
Buscar errores JWT
Revisa: JWT_SECRET_KEY esta configurada (Paso 1)
```

---

## CUANDO TERMINES

Checklist final:

```
[ ] Backend responde: https://spmsystem2-0.onrender.com/
[ ] Frontend carga: https://tu-vercel-url.vercel.app
[ ] Login funciona: admin / a1
[ ] Dashboard muestra datos
```

Si TODO esto OK = PRODUCCION LISTA

---

## IMPORTANTE: CAMBIAR CONTRASEÑA ADMIN

Despues de verificar que todo funciona:

1. Login en tu app: https://tu-vercel-url.vercel.app
2. Usuario: admin
3. Contraseña: a1
4. Click Settings
5. Change Password
6. Nueva contraseña fuerte
7. Guardar

LA CONTRASEÑA "a1" ES TEMPORAL. CAMBIALA.

---

## REFERENCIAS

Backend:      https://spmsystem2-0.onrender.com
Vercel URL:   https://tu-url.vercel.app (cambia segun tu deployment)
Render Dash:  https://dashboard.render.com
Vercel Dash:  https://vercel.com/dashboard
GitHub Repo:  https://github.com/manuelremon/SPMSystem2.0

---

## TIMELINE

PASO 2:  5 min (deploy Vercel)
PASO 3:  1 min (CORS Render)
PASO 4:  2 min (testing)
────────────────
TOTAL:   8 minutos

¡VAMOS!

