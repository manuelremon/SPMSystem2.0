import{c as g,u as P,a as D,b as z,r as s,f as T,j as e,l as A,X as U,M as B,B as o,U as O}from"./index-DSailSuQ.js";import{M as w}from"./Modal-B5O43XTM.js";import{M as c}from"./mail-DiifXXpj.js";import{A as F}from"./arrow-right-DixEshMu.js";import{M as V}from"./message-circle-nVX2fRSL.js";import{P as W}from"./phone-BbAcK3wl.js";const X=g("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),_=g("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),G=g("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);function ee(){const l=P(),{login:k,isLoading:d,error:m,clearError:C,user:h}=D(),{t:r}=z(),[u,S]=s.useState("admin@spm.com"),[x,M]=s.useState(""),[b,p]=s.useState(""),[R,n]=s.useState(!1),[E,i]=s.useState(!1),[f,j]=s.useState(""),[t,v]=s.useState({email:"",nombre:"",password:""}),[N,y]=s.useState("");s.useEffect(()=>{h&&l("/dashboard")},[h,l]),s.useEffect(()=>{T()},[]);const I=async a=>{if(a.preventDefault(),p(""),C(),!u.trim()||!x.trim()){p(r("login_error_required","Usuario y contraseña son requeridos"));return}try{await k(u,x),l("/dashboard")}catch{p(m||r("login_error_default","Error en el login"))}},q=a=>{a.preventDefault(),y((r("login_recover_info","Si el correo {email} está registrado, enviaremos un enlace para restablecer la contraseña.")||"").replace("{email}",f)),j(""),n(!1)},L=a=>{a.preventDefault(),y(r("login_feedback_sent","Solicitud de registro enviada. Completa tu perfil en el siguiente paso.")),i(!1),l("/registro/completar")};return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[var(--bg)] text-[var(--fg)] px-4 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[800px] h-[600px] bg-[radial-gradient(ellipse_at_center,_rgba(255,107,53,0.08)_0%,_transparent_70%)]"}),e.jsx("div",{className:"grid-lines opacity-20"})]}),e.jsxs("div",{className:"relative flex flex-col items-center gap-3 mb-8 animate-fadeIn",children:[e.jsx("div",{className:"h-16 w-16 rounded-xl bg-[var(--bg-elevated)] border border-[var(--border)] grid place-items-center overflow-hidden",children:e.jsx("img",{src:A,alt:"SPM",className:"h-12 w-12 object-contain"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-black uppercase tracking-[0.3em] text-[var(--primary)] drop-shadow-[0_0_15px_rgba(255,107,53,0.6)] [text-shadow:_2px_2px_0_rgba(255,107,53,0.3)]",children:"SPM"}),e.jsx("p",{className:"text-sm font-bold text-amber-400 mt-1 tracking-wide",children:"v2.0"})]})]}),e.jsx("div",{className:"relative w-full max-w-sm animate-slideUp",children:e.jsxs("div",{className:"bg-[var(--card)] border border-[var(--border)] rounded-xl p-6",children:[e.jsx("div",{className:"text-center mb-6",children:e.jsx("h2",{className:"text-xl text-[var(--fg-strong)]",children:r("login_title","Bienvenido")})}),e.jsxs("form",{onSubmit:I,className:"space-y-5",children:[(b||m)&&e.jsxs("div",{className:"flex items-center gap-3 bg-[var(--status-danger-bg)] text-[var(--status-danger-text)] px-4 py-3 border border-[var(--status-danger-border)] rounded-xl animate-scaleIn",children:[e.jsx(U,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium",children:b||m})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-mono uppercase tracking-wider text-[var(--fg-muted)]",children:r("login_user_label","Mail o ID SPM")}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--fg-subtle)]",children:e.jsx(c,{className:"w-4 h-4"})}),e.jsx("input",{type:"text",value:u,onChange:a=>S(a.target.value),className:"w-full pl-11 pr-4 py-3.5 bg-[var(--input-bg)] border border-[var(--input-border)] rounded-xl text-[var(--fg)] placeholder:text-[var(--fg-subtle)] focus:border-[var(--primary)] focus:ring-2 focus:ring-[var(--input-focus)] outline-none transition-all duration-200",placeholder:"usuario@email.com"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-mono uppercase tracking-wider text-[var(--fg-muted)]",children:r("login_pass_label","Contraseña")}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--fg-subtle)]",children:e.jsx(_,{className:"w-4 h-4"})}),e.jsx("input",{type:"password",value:x,onChange:a=>M(a.target.value),className:"w-full pl-11 pr-4 py-3.5 bg-[var(--input-bg)] border border-[var(--input-border)] rounded-xl text-[var(--fg)] placeholder:text-[var(--fg-subtle)] focus:border-[var(--primary)] focus:ring-2 focus:ring-[var(--input-focus)] outline-none transition-all duration-200",placeholder:"••••••••"})]})]}),e.jsxs("button",{type:"submit",disabled:d,className:"w-full flex items-center justify-center gap-2 py-4 px-6 bg-gradient-to-r from-[var(--primary)] to-[var(--primary-strong)] text-[var(--on-primary)] font-medium rounded-xl shadow-glow hover:shadow-glow-strong transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed group",children:[e.jsx("span",{children:d?r("login_loading","Ingresando..."):r("login_submit","Ingresar")}),!d&&e.jsx(F,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("button",{type:"button",className:"text-[var(--fg-muted)] hover:text-[var(--primary)] transition-colors duration-200",onClick:()=>n(!0),children:r("login_recover","Recuperar Contraseña")}),e.jsx("button",{type:"button",className:"text-[var(--fg-muted)] hover:text-[var(--primary)] transition-colors duration-200",onClick:()=>i(!0),children:r("login_register","Registrarme")})]}),N&&e.jsx("div",{className:"text-sm text-[var(--fg)] bg-[var(--bg-elevated)] border border-[var(--border)] rounded-xl px-4 py-3 animate-scaleIn",children:N})]})]})}),e.jsx("div",{className:"relative mt-8 text-center animate-fadeIn",children:e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx("a",{href:"https://linkedin.com",className:"h-9 w-9 rounded-lg bg-[var(--bg-elevated)] border border-[var(--border)] grid place-items-center text-[var(--fg-muted)] hover:text-[var(--primary)] hover:border-[var(--primary)] transition-all duration-200",target:"_blank",rel:"noreferrer",title:"LinkedIn",children:e.jsx(X,{className:"w-4 h-4"})}),e.jsx("a",{href:"https://twitter.com",className:"h-9 w-9 rounded-lg bg-[var(--bg-elevated)] border border-[var(--border)] grid place-items-center text-[var(--fg-muted)] hover:text-[var(--primary)] hover:border-[var(--primary)] transition-all duration-200",target:"_blank",rel:"noreferrer",title:"Twitter",children:e.jsx(G,{className:"w-4 h-4"})}),e.jsx("a",{href:"https://wa.me/5492994673102",className:"h-9 w-9 rounded-lg bg-[var(--bg-elevated)] border border-[var(--border)] grid place-items-center text-[var(--fg-muted)] hover:text-green-500 hover:border-green-500 transition-all duration-200",target:"_blank",rel:"noreferrer",title:"WhatsApp",children:e.jsx(V,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 py-3 px-4 bg-[var(--bg)]/80 backdrop-blur-sm border-t border-[var(--border)]/30",children:e.jsxs("div",{className:"flex items-center justify-center gap-3 text-[10px] text-[var(--fg-subtle)] font-mono flex-wrap",children:[e.jsx("span",{children:"© 2025 SPM v2.0"}),e.jsx("span",{className:"text-[var(--border)]",children:"|"}),e.jsx("span",{children:"Desarrollado por Manuel Remón"}),e.jsx("span",{className:"text-[var(--border)]",children:"|"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(B,{className:"w-2.5 h-2.5"}),"Neuquén, Patagonia, Argentina"]}),e.jsx("span",{className:"text-[var(--border)]",children:"|"}),e.jsxs("a",{href:"tel:+5492994673102",className:"flex items-center gap-1 hover:text-[var(--primary)] transition-colors",children:[e.jsx(W,{className:"w-2.5 h-2.5"}),"+54 9 299 467 3102"]}),e.jsx("span",{className:"text-[var(--border)]",children:"|"}),e.jsxs("a",{href:"mailto:solicitudespuntualesmateriales@gmail.com",className:"flex items-center gap-1 hover:text-[var(--primary)] transition-colors",children:[e.jsx(c,{className:"w-2.5 h-2.5"}),"solicitudespuntualesmateriales@gmail.com"]})]})}),e.jsxs(w,{isOpen:R,onClose:()=>n(!1),title:r("login_recover","Recuperar Contraseña"),size:"sm",children:[e.jsx("p",{className:"text-sm text-[var(--fg-muted)] mb-4",children:r("login_recover_desc","Ingresa el correo con el que te registraste. Te enviaremos un enlace para generar una nueva contraseña.")}),e.jsxs("form",{onSubmit:q,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-mono uppercase tracking-wider text-[var(--fg-muted)]",children:r("login_email_label","Correo electrónico")}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--fg-subtle)]",children:e.jsx(c,{className:"w-4 h-4"})}),e.jsx("input",{type:"email",value:f,onChange:a=>j(a.target.value),required:!0,className:"w-full pl-11 pr-4 py-3 bg-[var(--input-bg)] border border-[var(--input-border)] rounded-xl text-[var(--fg)] placeholder:text-[var(--fg-subtle)] focus:border-[var(--primary)] focus:ring-2 focus:ring-[var(--input-focus)] outline-none transition-all duration-200",placeholder:"correo@ejemplo.com"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(o,{type:"button",variant:"ghost",onClick:()=>n(!1),children:r("login_cancel","Cancelar")}),e.jsx(o,{type:"submit",children:r("login_send_link","Enviar enlace")})]})]})]}),e.jsx(w,{isOpen:E,onClose:()=>i(!1),title:r("login_register_fast","Registro"),size:"sm",children:e.jsxs("form",{onSubmit:L,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-mono uppercase tracking-wider text-[var(--fg-muted)]",children:r("login_email_label","Correo electrónico")}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--fg-subtle)]",children:e.jsx(c,{className:"w-4 h-4"})}),e.jsx("input",{type:"email",value:t.email,onChange:a=>v({...t,email:a.target.value}),required:!0,className:"w-full pl-11 pr-4 py-3 bg-[var(--input-bg)] border border-[var(--input-border)] rounded-xl text-[var(--fg)] placeholder:text-[var(--fg-subtle)] focus:border-[var(--primary)] focus:ring-2 focus:ring-[var(--input-focus)] outline-none transition-all duration-200",placeholder:"correo@ejemplo.com"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-mono uppercase tracking-wider text-[var(--fg-muted)]",children:r("login_name","Nombre")}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--fg-subtle)]",children:e.jsx(O,{className:"w-4 h-4"})}),e.jsx("input",{type:"text",value:t.nombre,onChange:a=>v({...t,nombre:a.target.value}),required:!0,className:"w-full pl-11 pr-4 py-3 bg-[var(--input-bg)] border border-[var(--input-border)] rounded-xl text-[var(--fg)] placeholder:text-[var(--fg-subtle)] focus:border-[var(--primary)] focus:ring-2 focus:ring-[var(--input-focus)] outline-none transition-all duration-200",placeholder:"Tu nombre"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-mono uppercase tracking-wider text-[var(--fg-muted)]",children:r("login_pass_label","Contraseña")}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--fg-subtle)]",children:e.jsx(_,{className:"w-4 h-4"})}),e.jsx("input",{type:"password",value:t.password,onChange:a=>v({...t,password:a.target.value}),required:!0,className:"w-full pl-11 pr-4 py-3 bg-[var(--input-bg)] border border-[var(--input-border)] rounded-xl text-[var(--fg)] placeholder:text-[var(--fg-subtle)] focus:border-[var(--primary)] focus:ring-2 focus:ring-[var(--input-focus)] outline-none transition-all duration-200",placeholder:"••••••••"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(o,{type:"button",variant:"ghost",onClick:()=>i(!1),children:r("login_cancel","Cancelar")}),e.jsx(o,{type:"submit",children:r("login_register","Registrarme")})]})]})})]})}export{ee as default};
