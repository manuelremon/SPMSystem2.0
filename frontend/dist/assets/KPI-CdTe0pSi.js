import{c as g,b as N,r as w,j as e,F as y,C as h,e as u,i as j,P}from"./index-CU87sTKb.js";import{P as k}from"./PageHeader-DJVn98HH.js";import{C as l,c as d,a as m,b as x}from"./Card-Dv3_2QFE.js";import{f as c}from"./formatters-Ctz0mOCI.js";import{T as C}from"./trending-up-3L4vk35o.js";import{D as f}from"./dollar-sign-DMjn-HfW.js";import{X as M}from"./x-circle-BHBn9rrs.js";const T=g("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);function p({data:r,maxValue:s}){return e.jsx("div",{className:"flex items-end gap-1 h-16",children:r.map((a,t)=>{const i=a/s*100;return e.jsx("div",{className:"flex-1 bg-[var(--primary)] rounded-t-sm transition-all duration-300 hover:bg-[var(--primary-bright)]",style:{height:`${i}%`},title:a},t)})})}function E({percentage:r,color:s="var(--primary)"}){const t=2*Math.PI*40,i=t-r/100*t;return e.jsxs("div",{className:"relative w-24 h-24",children:[e.jsxs("svg",{className:"w-full h-full -rotate-90",children:[e.jsx("circle",{cx:"48",cy:"48",r:40,stroke:"var(--border)",strokeWidth:"8",fill:"none"}),e.jsx("circle",{cx:"48",cy:"48",r:40,stroke:s,strokeWidth:"8",fill:"none",strokeDasharray:t,strokeDashoffset:i,strokeLinecap:"round",className:"transition-all duration-500"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-xl font-bold text-[var(--fg)]",children:[r,"%"]})})]})}function D({data:r}){const s=Math.max(...r),a=Math.min(...r),t=s-a||1,i=r.map((n,o)=>{const b=o/(r.length-1)*100,v=100-(n-a)/t*100;return`${b},${v}`}).join(" ");return e.jsx("div",{className:"h-12 w-full",children:e.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",preserveAspectRatio:"none",children:[e.jsx("polyline",{points:i,fill:"none",stroke:"var(--primary)",strokeWidth:"2",vectorEffect:"non-scaling-stroke"}),e.jsx("polyline",{points:`0,100 ${i} 100,100`,fill:"var(--primary)",fillOpacity:"0.1"})]})})}function R(){const{t:r}=N(),s=w.useMemo(()=>({solicitudes:{total:248,aprobadas:189,rechazadas:32,pendientes:27,trend:[45,52,48,61,58,67,72],trendPercentage:12.5},presupuesto:{total:25e5,utilizado:1875e3,disponible:625e3,percentage:75,porCentro:[{nombre:"Centro 1008",valor:58e4},{nombre:"Centro 1009",valor:42e4},{nombre:"Centro 1010",valor:38e4},{nombre:"Centro 1011",valor:295e3},{nombre:"Centro 1012",valor:2e5}]},tiempoAprobacion:{promedio:2.3,meta:3,trend:[3.2,2.9,2.7,2.5,2.4,2.3,2.3]},materialesMasSolicitados:[{nombre:"Tuercas M12",cantidad:4500},{nombre:"Tornillos M10",cantidad:3800},{nombre:"Arandelas",cantidad:3200},{nombre:"Pernos",cantidad:2900},{nombre:"Cables",cantidad:2400}],solicitudesPorEstado:{labels:["Ene","Feb","Mar","Abr","May","Jun"],aprobadas:[28,35,42,38,45,52],rechazadas:[5,6,4,8,5,7],pendientes:[3,5,4,6,5,4]}}),[]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx(k,{title:"KPI's",breadcrumbs:[{label:"Dashboard",to:"/dashboard"},{label:"KPI's"}]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(l,{className:"border-l-4 border-l-[var(--primary)]",children:e.jsxs(d,{className:"pt-6 pb-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-[var(--fg-muted)] uppercase tracking-wider mb-1",children:"Total Solicitudes"}),e.jsx("p",{className:"text-3xl font-bold text-[var(--fg)]",children:s.solicitudes.total})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-[var(--primary-muted)]/20 grid place-items-center",children:e.jsx(y,{className:"w-6 h-6 text-[var(--primary)]"})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[e.jsx(C,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-semibold",children:["+",s.solicitudes.trendPercentage,"%"]})]}),e.jsx("span",{className:"text-[var(--fg-muted)]",children:"vs mes anterior"})]})]})}),e.jsx(l,{className:"border-l-4 border-l-green-500",children:e.jsxs(d,{className:"pt-6 pb-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-[var(--fg-muted)] uppercase tracking-wider mb-1",children:"Tasa de Aprobación"}),e.jsxs("p",{className:"text-3xl font-bold text-[var(--fg)]",children:[Math.round(s.solicitudes.aprobadas/s.solicitudes.total*100),"%"]})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-green-500/20 grid place-items-center",children:e.jsx(h,{className:"w-6 h-6 text-green-500"})})]}),e.jsxs("div",{className:"text-sm text-[var(--fg-muted)]",children:[s.solicitudes.aprobadas," aprobadas de ",s.solicitudes.total]})]})}),e.jsx(l,{className:"border-l-4 border-l-blue-500",children:e.jsxs(d,{className:"pt-6 pb-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-[var(--fg-muted)] uppercase tracking-wider mb-1",children:"Tiempo Promedio"}),e.jsxs("p",{className:"text-3xl font-bold text-[var(--fg)]",children:[s.tiempoAprobacion.promedio," días"]})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-500/20 grid place-items-center",children:e.jsx(u,{className:"w-6 h-6 text-blue-500"})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsx("span",{className:"font-semibold",children:"Mejorando"})]}),e.jsxs("span",{className:"text-[var(--fg-muted)]",children:["Meta: ",s.tiempoAprobacion.meta," días"]})]})]})}),e.jsx(l,{className:"border-l-4 border-l-yellow-500",children:e.jsxs(d,{className:"pt-6 pb-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-[var(--fg-muted)] uppercase tracking-wider mb-1",children:"Presupuesto"}),e.jsx("p",{className:"text-2xl font-bold text-[var(--fg)]",children:c(s.presupuesto.utilizado)})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-500/20 grid place-items-center",children:e.jsx(f,{className:"w-6 h-6 text-yellow-500"})})]}),e.jsxs("div",{className:"text-sm text-[var(--fg-muted)]",children:[s.presupuesto.percentage,"% de ",c(s.presupuesto.total)]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(l,{children:[e.jsx(m,{className:"px-6 pt-6 pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(x,{children:"Tendencia de Solicitudes"}),e.jsx(j,{className:"w-5 h-5 text-[var(--primary)]"})]})}),e.jsxs(d,{className:"px-6 pb-6",children:[e.jsx("div",{className:"mb-4",children:e.jsx(D,{data:s.solicitudes.trend})}),e.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-[var(--fg-muted)] text-center",children:["Lun","Mar","Mié","Jue","Vie","Sáb","Dom"].map(a=>e.jsx("div",{children:a},a))}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-[var(--border)] flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-[var(--fg-muted)]",children:"Promedio semanal"}),e.jsxs("span",{className:"font-semibold text-[var(--fg)]",children:[Math.round(s.solicitudes.trend.reduce((a,t)=>a+t,0)/s.solicitudes.trend.length)," solicitudes"]})]})]})]}),e.jsxs(l,{children:[e.jsx(m,{className:"px-6 pt-6 pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(x,{children:"Presupuesto por Centro"}),e.jsx(f,{className:"w-5 h-5 text-[var(--primary)]"})]})}),e.jsx(d,{className:"px-6 pb-6",children:e.jsx("div",{className:"space-y-4",children:s.presupuesto.porCentro.map((a,t)=>{const i=Math.max(...s.presupuesto.porCentro.map(o=>o.valor)),n=a.valor/i*100;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 text-sm",children:[e.jsx("span",{className:"text-[var(--fg-muted)] font-medium",children:a.nombre}),e.jsx("span",{className:"text-[var(--fg)] font-semibold",children:c(a.valor)})]}),e.jsx("div",{className:"h-2 bg-[var(--bg-soft)] rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-[var(--primary)] rounded-full transition-all duration-500",style:{width:`${n}%`}})})]},t)})})})]}),e.jsxs(l,{children:[e.jsx(m,{className:"px-6 pt-6 pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(x,{children:"Materiales Más Solicitados"}),e.jsx(P,{className:"w-5 h-5 text-[var(--primary)]"})]})}),e.jsx(d,{className:"px-6 pb-6",children:e.jsx("div",{className:"space-y-3",children:s.materialesMasSolicitados.map((a,t)=>{const i=Math.max(...s.materialesMasSolicitados.map(o=>o.cantidad)),n=a.cantidad/i*100;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-[var(--primary-muted)]/20 grid place-items-center text-sm font-bold text-[var(--primary)]",children:t+1}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5 text-sm",children:[e.jsx("span",{className:"text-[var(--fg)] font-medium",children:a.nombre}),e.jsx("span",{className:"text-[var(--fg-muted)]",children:a.cantidad.toLocaleString()})]}),e.jsx("div",{className:"h-1.5 bg-[var(--bg-soft)] rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-[var(--primary)] to-[var(--primary-bright)] rounded-full transition-all duration-500",style:{width:`${n}%`}})})]})]},t)})})})]}),e.jsxs(l,{children:[e.jsx(m,{className:"px-6 pt-6 pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(x,{children:"Distribución de Estados"}),e.jsx(j,{className:"w-5 h-5 text-[var(--primary)]"})]})}),e.jsxs(d,{className:"px-6 pb-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium text-[var(--fg)]",children:"Aprobadas"})]}),e.jsx("span",{className:"text-sm font-semibold text-[var(--fg)]",children:s.solicitudes.aprobadas})]}),e.jsx(p,{data:s.solicitudesPorEstado.aprobadas,maxValue:Math.max(...s.solicitudesPorEstado.aprobadas)})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"text-sm font-medium text-[var(--fg)]",children:"Rechazadas"})]}),e.jsx("span",{className:"text-sm font-semibold text-[var(--fg)]",children:s.solicitudes.rechazadas})]}),e.jsx(p,{data:s.solicitudesPorEstado.rechazadas,maxValue:Math.max(...s.solicitudesPorEstado.aprobadas)})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{className:"text-sm font-medium text-[var(--fg)]",children:"Pendientes"})]}),e.jsx("span",{className:"text-sm font-semibold text-[var(--fg)]",children:s.solicitudes.pendientes})]}),e.jsx(p,{data:s.solicitudesPorEstado.pendientes,maxValue:Math.max(...s.solicitudesPorEstado.aprobadas)})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-[var(--border)] grid grid-cols-6 gap-1 text-xs text-[var(--fg-muted)] text-center",children:s.solicitudesPorEstado.labels.map(a=>e.jsx("div",{children:a},a))})]})]})]}),e.jsxs(l,{children:[e.jsx(m,{className:"px-6 pt-6 pb-4",children:e.jsx(x,{children:"Resumen de Presupuesto"})}),e.jsx(d,{className:"px-6 pb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(E,{percentage:s.presupuesto.percentage})}),e.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-6 w-full",children:[e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("p",{className:"text-xs font-medium text-[var(--fg-muted)] uppercase tracking-wider mb-2",children:"Presupuesto Total"}),e.jsx("p",{className:"text-2xl font-bold text-[var(--fg)]",children:c(s.presupuesto.total)})]}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("p",{className:"text-xs font-medium text-[var(--fg-muted)] uppercase tracking-wider mb-2",children:"Utilizado"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-500",children:c(s.presupuesto.utilizado)})]}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("p",{className:"text-xs font-medium text-[var(--fg-muted)] uppercase tracking-wider mb-2",children:"Disponible"}),e.jsx("p",{className:"text-2xl font-bold text-green-500",children:c(s.presupuesto.disponible)})]})]})]})})]})]})}export{R as default};
