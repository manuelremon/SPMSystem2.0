import{r as a,j as t,m as E,X as w}from"./index-R2nLXBvN.js";function k({isOpen:r,onClose:n,title:m,children:x,size:b="md",closeOnOverlayClick:v=!0,showCloseButton:g=!0,footer:u,className:h}){const o=a.useRef(null),c=a.useRef(null),s=a.useCallback(()=>o.current?o.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'):[],[]),i=a.useCallback(e=>{if(e.key==="Escape"){n();return}if(e.key!=="Tab")return;const l=s();if(l.length===0)return;const d=l[0],f=l[l.length-1];e.shiftKey?document.activeElement===d&&(e.preventDefault(),f.focus()):document.activeElement===f&&(e.preventDefault(),d.focus())},[n,s]);if(a.useEffect(()=>{if(r){c.current=document.activeElement;const e=setTimeout(()=>{const l=s();l.length>0&&l[0].focus()},50);return()=>clearTimeout(e)}else c.current&&c.current.focus()},[r,s]),a.useEffect(()=>{if(r)return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[r,i]),a.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[r]),!r)return null;const y={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-7xl"},p=e=>{v&&e.target===e.currentTarget&&n()};return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-strong animate-fade-in",onClick:p,role:"presentation",children:t.jsxs("div",{ref:o,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",className:E("relative w-full bg-[var(--card)] rounded-2xl border border-[var(--border)] animate-scale-in",y[b],h),children:[t.jsxs("div",{className:"flex items-center justify-between px-6 pt-6 pb-4 border-b border-[var(--border)]",children:[t.jsx("h2",{id:"modal-title",className:"text-xl font-semibold text-[var(--fg-strong)]",children:m}),g&&t.jsx("button",{onClick:n,className:"p-2 rounded-lg transition-all duration-150 text-[var(--fg-muted)] hover:text-[var(--fg)] hover:bg-[var(--bg-soft)]","aria-label":"Close modal",children:t.jsx(w,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"px-6 py-4 max-h-[calc(100vh-200px)] overflow-y-auto",children:x}),u&&t.jsx("div",{className:"flex items-center justify-end gap-3 px-6 pb-6 pt-4 border-t border-[var(--border)]",children:u})]})})}export{k as M};
