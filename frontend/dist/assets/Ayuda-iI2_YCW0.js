import{c as T,a as $,r as l,j as e,x as C,v as p,h as D,e as R,n as S,z as A,F as U,P as V,E as B,S as L,H as I,G as O,d as G}from"./index-R2nLXBvN.js";import{C as n,a as o,b as c,d as q,c as d}from"./Card-D1AN4Z4i.js";import{P as W}from"./PageHeader-D8Wfw19Y.js";import{S as Q}from"./Select-BLDKx88b.js";import{C as E}from"./check-circle-DujjALsM.js";import{M as Y}from"./mail-B7v3DP3N.js";import{P as g}from"./phone-Cwzwokqc.js";const _=T("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);function re(){const{user:t}=$(),[m,P]=l.useState("contacto"),[r,u]=l.useState({asunto:"",mensaje:"",tipo:"consulta"}),[v,h]=l.useState(!1),[k,j]=l.useState(!1),[f,b]=l.useState(null),[i,N]=l.useState(null),H=async a=>{a.preventDefault(),h(!0),b(null);try{await G.post("/mensajes/send",{destinatario_id:"admin",asunto:`[Ayuda - ${r.tipo.toUpperCase()}] ${r.asunto}`,cuerpo:`
Usuario: ${(t==null?void 0:t.nombre)||(t==null?void 0:t.username)}
Email: ${t==null?void 0:t.email}
Tipo: ${r.tipo}

Mensaje:
${r.mensaje}
        `.trim()}),j(!0),u({asunto:"",mensaje:"",tipo:"consulta"})}catch(s){b("No se pudo enviar el mensaje. Intenta de nuevo."),console.error("Error enviando ayuda:",s)}finally{h(!1)}},M=[{id:"contacto",label:"Contactar Administrador",icon:C},{id:"instrucciones",label:"Instrucciones de Uso",icon:_},{id:"urgente",label:"Ayuda Urgente",icon:p}],z=[{titulo:"Crear una Nueva Solicitud",icon:U,pasos:["Ve a 'Solicitudes' > 'Nueva Solicitud' en el menú superior","Completa los datos del formulario: centro, sector, justificación","Agrega los materiales que necesitas usando el buscador","Revisa el resumen y haz clic en 'Enviar Solicitud'","La solicitud pasará a estado 'Enviada' para aprobación"]},{titulo:"Ver Mis Solicitudes",icon:V,pasos:["Ve a 'Solicitudes' > 'Mis Solicitudes'","Filtra por estado: Borradores, Enviadas, Aprobadas, etc.","Haz clic en 'Ver' para ver los detalles de una solicitud","Puedes editar o eliminar solicitudes en estado 'Borrador'"]},{titulo:"Aprobar Solicitudes",icon:E,pasos:["Ve a 'Aprobaciones' en el menú superior","Verás las solicitudes pendientes de tu aprobación","Revisa los detalles, materiales y montos","Haz clic en 'Aprobar' o 'Rechazar' según corresponda","Si rechazas, debes indicar el motivo"]},{titulo:"Panel de Planificación",icon:B,pasos:["Accede a 'Planificador' en el menú (solo planificadores)","Verás las solicitudes aprobadas asignadas a ti","Trata cada solicitud: asigna materiales, cantidades y almacenes","Finaliza el tratamiento para completar el proceso"]},{titulo:"Configurar Mi Cuenta",icon:L,pasos:["Haz clic en tu nombre en la esquina superior derecha","Selecciona 'Mi Cuenta'","Aquí puedes actualizar tu información personal","Cambiar tu contraseña o preferencias"]}],y=[{pregunta:"¿Cómo puedo editar una solicitud ya enviada?",respuesta:"Las solicitudes enviadas no pueden editarse. Si necesitas hacer cambios, solicita al aprobador que la rechace para que vuelva a estado Borrador, o crea una nueva solicitud."},{pregunta:"¿Por qué no veo el botón de aprobar en las solicitudes?",respuesta:"El botón de aprobar solo aparece si tienes rol de aprobador y la solicitud está asignada a ti. Contacta al administrador si crees que deberías poder aprobar."},{pregunta:"¿Cómo agrego materiales que no aparecen en el buscador?",respuesta:"Si un material no aparece, puede que no esté en el catálogo del sistema. Contacta al administrador para que lo agregue."},{pregunta:"¿Qué significa cada estado de solicitud?",respuesta:"Borrador: aún no enviada. Enviada: esperando aprobación. Aprobada: lista para planificación. Rechazada: requiere revisión. En Proceso: siendo planificada. Completada: entregada."},{pregunta:"¿Puedo cancelar una solicitud después de enviarla?",respuesta:"No puedes cancelar directamente. Debes solicitar al aprobador que la rechace, o contactar al administrador para casos especiales."}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx(W,{title:"CENTRO DE AYUDA",description:"Obtén asistencia, aprende a usar el sistema o contacta al administrador"}),e.jsx("div",{className:"flex flex-wrap gap-2 border-b border-[var(--border)] pb-4",children:M.map(a=>{const s=a.icon,x=m===a.id;return e.jsxs("button",{onClick:()=>P(a.id),className:`
                flex items-center gap-2 px-4 py-2.5 rounded-lg font-medium text-sm transition-all
                ${x?"bg-[var(--primary)] text-white":"bg-[var(--bg-soft)] text-[var(--fg-muted)] hover:bg-[var(--bg-elevated)] hover:text-[var(--fg)]"}
              `,children:[e.jsx(s,{className:"w-4 h-4"}),a.label]},a.id)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m==="contacto"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(n,{children:[e.jsxs(o,{children:[e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-5 h-5 text-[var(--primary)]"}),"Enviar Mensaje al Administrador"]}),e.jsx(q,{children:"Completa el formulario para enviar tu consulta o reporte"})]}),e.jsx(d,{children:k?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(E,{className:"w-16 h-16 text-[var(--success)] mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-[var(--fg-strong)] mb-2",children:"Mensaje Enviado"}),e.jsx("p",{className:"text-[var(--fg-muted)] mb-4",children:"Tu mensaje ha sido enviado al administrador. Recibirás una respuesta pronto."}),e.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 bg-[var(--primary)] text-white rounded-lg hover:bg-[var(--primary-hover)] transition-colors",children:"Enviar otro mensaje"})]}):e.jsxs("form",{onSubmit:H,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[var(--fg)] mb-1.5",children:"Tipo de Consulta"}),e.jsxs(Q,{value:r.tipo,onChange:a=>u({...r,tipo:a.target.value}),children:[e.jsx("option",{value:"consulta",children:"Consulta General"}),e.jsx("option",{value:"problema",children:"Reportar Problema"}),e.jsx("option",{value:"sugerencia",children:"Sugerencia"}),e.jsx("option",{value:"acceso",children:"Problema de Acceso"}),e.jsx("option",{value:"otro",children:"Otro"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[var(--fg)] mb-1.5",children:"Asunto"}),e.jsx("input",{type:"text",value:r.asunto,onChange:a=>u({...r,asunto:a.target.value}),placeholder:"Describe brevemente tu consulta",required:!0,className:"w-full px-3 py-2 rounded-lg bg-[var(--bg-elevated)] border border-[var(--border)] text-[var(--fg)] placeholder-[var(--fg-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--primary)]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[var(--fg)] mb-1.5",children:"Mensaje"}),e.jsx("textarea",{value:r.mensaje,onChange:a=>u({...r,mensaje:a.target.value}),placeholder:"Describe tu consulta o problema en detalle...",required:!0,rows:6,className:"w-full px-3 py-2 rounded-lg bg-[var(--bg-elevated)] border border-[var(--border)] text-[var(--fg)] placeholder-[var(--fg-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--primary)] resize-none"})]}),f&&e.jsx("div",{className:"p-3 rounded-lg bg-[var(--error)]/10 border border-[var(--error)]/30 text-[var(--error)] text-sm",children:f}),e.jsx("button",{type:"submit",disabled:v,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-[var(--primary)] text-white rounded-lg hover:bg-[var(--primary-hover)] transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:v?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"w-4 h-4"}),"Enviar Mensaje"]})})]})})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(n,{children:[e.jsx(o,{children:e.jsx(c,{className:"text-sm",children:"Información de Contacto"})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Y,{className:"w-5 h-5 text-[var(--primary)] mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-[var(--fg-strong)]",children:"Email"}),e.jsx("p",{className:"text-sm text-[var(--fg-muted)]",children:"solicitudespuntualesmateriales@gmail.com"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(g,{className:"w-5 h-5 text-[var(--primary)] mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-[var(--fg-strong)]",children:"Teléfono"}),e.jsx("p",{className:"text-sm text-[var(--fg-muted)]",children:"+54 11 1234-5678"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(R,{className:"w-5 h-5 text-[var(--primary)] mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-[var(--fg-strong)]",children:"Horario de Atención"}),e.jsx("p",{className:"text-sm text-[var(--fg-muted)]",children:"Lun - Vie: 8:00 - 18:00"})]})]})]})]}),e.jsxs(n,{children:[e.jsx(o,{children:e.jsx(c,{className:"text-sm",children:"Preguntas Frecuentes"})}),e.jsx(d,{className:"space-y-2",children:y.slice(0,3).map((a,s)=>e.jsxs("button",{onClick:()=>N(i===s?null:s),className:"w-full text-left p-3 rounded-lg bg-[var(--bg-soft)] hover:bg-[var(--bg-elevated)] transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-[var(--fg)]",children:a.pregunta}),i===s?e.jsx(S,{className:"w-4 h-4 text-[var(--fg-muted)] flex-shrink-0"}):e.jsx(A,{className:"w-4 h-4 text-[var(--fg-muted)] flex-shrink-0"})]}),i===s&&e.jsx("p",{className:"mt-2 text-sm text-[var(--fg-muted)]",children:a.respuesta})]},s))})]})]})]}),m==="instrucciones"&&e.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:z.map((a,s)=>{const x=a.icon;return e.jsxs(n,{children:[e.jsx(o,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(x,{className:"w-5 h-5 text-[var(--primary)]"}),a.titulo]})}),e.jsx(d,{children:e.jsx("ol",{className:"space-y-2",children:a.pasos.map((F,w)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-[var(--primary)]/20 text-[var(--primary)] text-xs font-bold flex items-center justify-center",children:w+1}),e.jsx("span",{className:"text-sm text-[var(--fg-muted)]",children:F})]},w))})})]},s)})}),e.jsxs(n,{children:[e.jsx(o,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-5 h-5 text-[var(--primary)]"}),"Preguntas Frecuentes"]})}),e.jsx(d,{className:"space-y-2",children:y.map((a,s)=>e.jsxs("button",{onClick:()=>N(i===`faq-${s}`?null:`faq-${s}`),className:"w-full text-left p-4 rounded-lg bg-[var(--bg-soft)] hover:bg-[var(--bg-elevated)] transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("span",{className:"font-medium text-[var(--fg)]",children:a.pregunta}),i===`faq-${s}`?e.jsx(S,{className:"w-5 h-5 text-[var(--fg-muted)] flex-shrink-0"}):e.jsx(A,{className:"w-5 h-5 text-[var(--fg-muted)] flex-shrink-0"})]}),i===`faq-${s}`&&e.jsx("p",{className:"mt-3 text-[var(--fg-muted)] border-t border-[var(--border)] pt-3",children:a.respuesta})]},s))})]})]}),m==="urgente"&&e.jsx("div",{className:"lg:col-span-3",children:e.jsxs(n,{className:"border-[var(--warning)]/50 bg-[var(--warning)]/5",children:[e.jsxs(o,{children:[e.jsxs(c,{className:"flex items-center gap-2 text-[var(--warning)]",children:[e.jsx(p,{className:"w-6 h-6"}),"Ayuda Urgente"]}),e.jsx(q,{children:"Para situaciones críticas que requieren atención inmediata"})]}),e.jsxs(d,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-6 rounded-xl bg-[var(--bg)] border border-[var(--border)]",children:[e.jsxs("h3",{className:"font-semibold text-[var(--fg-strong)] mb-4 flex items-center gap-2",children:[e.jsx(g,{className:"w-5 h-5 text-[var(--primary)]"}),"Contacto de Emergencia"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-[var(--bg-soft)]",children:[e.jsx("p",{className:"text-sm text-[var(--fg-muted)]",children:"Línea directa soporte:"}),e.jsx("p",{className:"text-lg font-mono font-bold text-[var(--primary)]",children:"+54 11 1234-5678"})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-[var(--bg-soft)]",children:[e.jsx("p",{className:"text-sm text-[var(--fg-muted)]",children:"WhatsApp urgencias:"}),e.jsx("p",{className:"text-lg font-mono font-bold text-[var(--success)]",children:"+54 9 11 9876-5432"})]})]})]}),e.jsxs("div",{className:"p-6 rounded-xl bg-[var(--bg)] border border-[var(--border)]",children:[e.jsxs("h3",{className:"font-semibold text-[var(--fg-strong)] mb-4 flex items-center gap-2",children:[e.jsx(p,{className:"w-5 h-5 text-[var(--warning)]"}),"¿Cuándo usar Ayuda Urgente?"]}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2 text-sm text-[var(--fg-muted)]",children:[e.jsx("span",{className:"text-[var(--warning)]",children:"•"}),"No puedes acceder al sistema y tienes una solicitud crítica"]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-[var(--fg-muted)]",children:[e.jsx("span",{className:"text-[var(--warning)]",children:"•"}),"Error que bloquea operaciones de producción"]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-[var(--fg-muted)]",children:[e.jsx("span",{className:"text-[var(--warning)]",children:"•"}),"Problema de seguridad o acceso no autorizado"]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-[var(--fg-muted)]",children:[e.jsx("span",{className:"text-[var(--warning)]",children:"•"}),"Pérdida de datos o información crítica"]})]})]})]}),e.jsxs("div",{className:"p-6 rounded-xl bg-[var(--bg)] border border-[var(--border)]",children:[e.jsxs("h3",{className:"font-semibold text-[var(--fg-strong)] mb-4 flex items-center gap-2",children:[e.jsx(O,{className:"w-5 h-5 text-[var(--primary)]"}),"Administradores del Sistema"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-[var(--bg-soft)]",children:[e.jsx("p",{className:"font-medium text-[var(--fg-strong)]",children:"Admin Principal"}),e.jsx("p",{className:"text-sm text-[var(--fg-muted)]",children:"solicitudespuntualesmateriales@gmail.com"}),e.jsx("p",{className:"text-xs text-[var(--fg-subtle)]",children:"Horario: 24/7"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-[var(--bg-soft)]",children:[e.jsx("p",{className:"font-medium text-[var(--fg-strong)]",children:"Soporte Técnico"}),e.jsx("p",{className:"text-sm text-[var(--fg-muted)]",children:"solicitudespuntualesmateriales@gmail.com"}),e.jsx("p",{className:"text-xs text-[var(--fg-subtle)]",children:"Horario: 8:00 - 20:00"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-[var(--bg-soft)]",children:[e.jsx("p",{className:"font-medium text-[var(--fg-strong)]",children:"Mesa de Ayuda"}),e.jsx("p",{className:"text-sm text-[var(--fg-muted)]",children:"solicitudespuntualesmateriales@gmail.com"}),e.jsx("p",{className:"text-xs text-[var(--fg-subtle)]",children:"Horario: 8:00 - 18:00"})]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("a",{href:"tel:+541112345678",className:"flex items-center gap-3 px-8 py-4 bg-[var(--warning)] text-black rounded-xl font-semibold text-lg hover:bg-[var(--warning)]/90 transition-colors shadow-lg",children:[e.jsx(g,{className:"w-6 h-6"}),"Llamar Ahora"]})})]})]})})]})]})}export{re as default};
