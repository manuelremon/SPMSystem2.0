import{j as n}from"./index-BBtzFSXJ.js";import{A as s}from"./AdminCrudTemplate-D2tLuPr3.js";import{a as m}from"./spm-DnH3dDXc.js";import"./Card-CijqnRsN.js";import"./Input-CTcOtTr-.js";import"./Select-Ds4SV3qo.js";import"./SearchInput-g-GgAikw.js";import"./DataTable-Bqp8gk5f.js";import"./inbox-oGp0S2vU.js";import"./chevron-up-WlbSqmfb.js";import"./Alert-QlGB6BLm.js";import"./info-DUgdjQgb.js";import"./alert-circle-ULNVDQrJ.js";import"./x-circle-CtG45re9.js";import"./check-circle-DVILKVSI.js";import"./PageHeader-C_MWntDI.js";import"./ConfirmModal-CQVJ3thD.js";import"./Skeleton-CQ4wtLpf.js";import"./useDebounced-BuWptXxa.js";import"./pen-line-CYVA3T3e.js";import"./trash-2-CrOt4tP1.js";import"./plus-CWxbvY5B.js";const l=i=>i?i.split(`
`).map(o=>o.trim()).filter(Boolean).map(o=>{const[a,r,t]=o.split(",").map(e=>e==null?void 0:e.trim());return{centro:a,sector:r,almacen_virtual:t}}):[];function q(){return n.jsx(s,{title:"Planificadores",resource:"planificadores",idKey:"usuario_id",parseList:i=>{const o=(i==null?void 0:i.planificadores)||[],a=(i==null?void 0:i.asignaciones)||[];return o.map(r=>{const t=a.filter(e=>e.planificador_id===r.usuario_id);return{...r,asignaciones_text:t.map(e=>`${e.centro||""}, ${e.sector||""}, ${e.almacen_virtual||""}`).join(`
`)}})},fields:[{name:"usuario_id",label:"Usuario ID",required:!0},{name:"nombre",label:"Nombre visible"},{name:"activo",label:"Activo",type:"checkbox",defaultValue:1,placeholder:"Habilitado"},{name:"asignaciones_text",label:"Asignaciones (una por línea: centro,sector,almacen)",type:"textarea",placeholder:"1008, SEC1, 0001"}],columns:[{key:"usuario_id",label:"Usuario"},{key:"nombre",label:"Nombre"},{key:"activo",label:"Activo",render:i=>i.activo?"Sí":"No"},{key:"asignaciones_text",label:"Asignaciones"}],transformSubmit:i=>({usuario_id:i.usuario_id,nombre:i.nombre,activo:i.activo,asignaciones:l(i.asignaciones_text)}),customUpdate:(i,o)=>m.update("planificadores",i,o)})}export{q as default};
